function Phi=Base_Regressor_Panda_43(q,dq,ddq)

x0 = sin(q(2));
x1 = -ddq(1);
x2 = cos(q(2));
x3 = -dq(1);
x4 = x2*x3;
x5 = dq(2)*x4;
x6 = x0*x1 + x5;
x7 = -x6;
x8 = x0*x3;
x9 = dq(2)*x8;
x10 = -x9;
x11 = x10*x2;
x12 = dq(1)*dq(2)*x0 + x1*x2;
x13 = -x0;
x14 = -x2;
x15 = x5 + x6;
x16 = x4*x8;
x17 = ((dq(2))*(dq(2)));
x18 = ((x8)*(x8));
x19 = -x18;
x20 = -x17;
x21 = ((x4)*(x4));
x22 = -x16;
x23 = cos(q(3));
x24 = sin(q(3));
x25 = -x24;
x26 = dq(2)*x23 + x25*x8;
x27 = ddq(2)*x24 + dq(3)*x26 + x23*x6;
x28 = dq(2)*x24 + x23*x8;
x29 = dq(3) - x4;
x30 = x28*x29;
x31 = x26*x28;
x32 = -x31;
x33 = -x30;
x34 = -x28;
x35 = ddq(2)*x23 + dq(3)*x34 + x24*x7;
x36 = x33 + x35;
x37 = x26*x29;
x38 = x27 + x37;
x39 = ((x26)*(x26));
x40 = -x39;
x41 = ((x28)*(x28));
x42 = x40 + x41;
x43 = ddq(3) - x12;
x44 = x31 + x43;
x45 = x23*x44;
x46 = ((x29)*(x29));
x47 = -x41;
x48 = x46 + x47;
x49 = x27 - x37;
x50 = -x46;
x51 = x39 + x50;
x52 = x32 + x43;
x53 = x30 + x35;
x54 = -x43;
x55 = -9.81*x0;
x56 = 0.316*ddq(2) - 0.316*x16 + x55;
x57 = -0.316*x15;
x58 = x23*x57 + x25*x56;
x59 = -x58;
x60 = -9.81*x2;
x61 = 0.316*x19 + 0.316*x20 - x60;
x62 = -x61;
x63 = x40 + x50;
x64 = x31 + x54;
x65 = x47 + x50;
x66 = x23*x56 + x24*x57;
x67 = -x66;
x68 = cos(q(4));
x69 = sin(q(4));
x70 = x29*x68 + x34*x69;
x71 = dq(4)*x70 + x27*x68 + x43*x69;
x72 = x28*x68 + x29*x69;
x73 = dq(4) - x26;
x74 = x72*x73;
x75 = -x69;
x76 = x68*x71 + x74*x75;
x77 = x70*x72;
x78 = -x77;
x79 = -x78;
x80 = x68*x74 + x69*x71;
x81 = -x72;
x82 = dq(4)*x81 - x27*x69 + x43*x68;
x83 = -x74;
x84 = x82 + x83;
x85 = x70*x73;
x86 = x71 + x85;
x87 = x68*x84 + x75*x86;
x88 = ((x70)*(x70));
x89 = -x88;
x90 = ((x72)*(x72));
x91 = x89 + x90;
x92 = -x91;
x93 = x68*x86 + x69*x84;
x94 = -x35;
x95 = ddq(4) + x94;
x96 = x77 + x95;
x97 = ((x73)*(x73));
x98 = -x90;
x99 = x97 + x98;
x100 = x68*x96 + x75*x99;
x101 = x71 - x85;
x102 = -x101;
x103 = x68*x99 + x69*x96;
x104 = -x97;
x105 = x104 + x88;
x106 = x78 + x95;
x107 = x105*x68 + x106*x75;
x108 = x74 + x82;
x109 = -x108;
x110 = x105*x69 + x106*x68;
x111 = x68*x85 + x75*x83;
x112 = -x95;
x113 = x68*x83 + x69*x85;
x114 = -0.0825*x44 + x59;
x115 = -x114;
x116 = x115*x75;
x117 = 0.0825*x30 + x61 + 0.0825*x94;
x118 = 0.0825*x63 + x66;
x119 = x117*x68 + x118*x75;
x120 = x104 + x89;
x121 = -0.0825*x120;
x122 = -0.0825*x96;
x123 = -x119 + x121*x69 + x122*x68;
x124 = -0.316*x24;
x125 = x120*x68 + x75*x96;
x126 = x74 - x82;
x127 = -x126;
x128 = -0.0825*x126;
x129 = x115*x68 + x128;
x130 = x114*x68;
x131 = x117*x69 + x118*x68;
x132 = -x131;
x133 = x112 + x77;
x134 = x104 + x98;
x135 = -x132 - 0.0825*x133*x69 - 0.0825*x134*x68;
x136 = x133*x68 + x134*x75;
x137 = -x86;
x138 = x114*x69 - 0.0825*x86;
x139 = cos(q(5));
x140 = sin(q(5));
x141 = -x73;
x142 = x139*x141 + x140*x81;
x143 = dq(5)*x142 + x112*x140 + x139*x71;
x144 = -x140;
x145 = x139*x72 + x140*x141;
x146 = dq(5) + x70;
x147 = x145*x146;
x148 = x139*x143 + x144*x147;
x149 = x142*x145;
x150 = -x149;
x151 = x148*x68 + x150*x75;
x152 = -x139;
x153 = x143*x144 + x147*x152;
x154 = -x153;
x155 = x148*x69 + x150*x68;
x156 = -x145;
x157 = dq(5)*x156 + x112*x139 - x140*x71;
x158 = -x147;
x159 = x157 + x158;
x160 = x142*x146;
x161 = x143 + x160;
x162 = x139*x159 + x144*x161;
x163 = ((x142)*(x142));
x164 = -x163;
x165 = ((x145)*(x145));
x166 = x164 + x165;
x167 = x162*x68 + x166*x75;
x168 = x144*x159 + x152*x161;
x169 = -x168;
x170 = x162*x69 + x166*x68;
x171 = ddq(5) + x82;
x172 = x149 + x171;
x173 = x139*x172;
x174 = ((x146)*(x146));
x175 = -x165;
x176 = x174 + x175;
x177 = x144*x176 + x173;
x178 = x143 - x160;
x179 = x177*x68 + x178*x75;
x180 = x144*x172;
x181 = x152*x176 + x180;
x182 = -x181;
x183 = x177*x69 + x178*x68;
x184 = -x174;
x185 = x163 + x184;
x186 = x150 + x171;
x187 = x139*x185 + x144*x186;
x188 = x147 + x157;
x189 = x187*x68 + x188*x75;
x190 = x144*x185 + x152*x186;
x191 = -x190;
x192 = x187*x69 + x188*x68;
x193 = x139*x160 + x144*x158;
x194 = -x171;
x195 = x193*x68 + x194*x69;
x196 = x144*x160 + x152*x158;
x197 = -x196;
x198 = x171*x68 + x193*x69;
x199 = x119 + x122 + 0.384*x134;
x200 = -x199;
x201 = x164 + x184;
x202 = x140*x201;
x203 = x144*x200 - 0.384*x173 - 0.384*x202;
x204 = x121 + x131 + 0.384*x133;
x205 = x114 + x128 + 0.384*x86;
x206 = x144*x204 + x152*x205;
x207 = -0.0825*x173 - 0.0825*x202 + x206;
x208 = x203*x68 + x207*x75;
x209 = -x157;
x210 = x147 + x209;
x211 = -0.0825*x210;
x212 = 0.384*x140;
x213 = x139*x201;
x214 = x152*x200 + x172*x212 + x211 - 0.384*x213;
x215 = x180 + x213;
x216 = x211*x68 - x214 - 0.0825*x215*x69;
x217 = x210*x75 + x215*x68;
x218 = x144*x201 + x152*x172;
x219 = -x218;
x220 = x203*x69 + x207*x68 - 0.0825*x218;
x221 = x149 + x194;
x222 = x140*x221;
x223 = x175 + x184;
x224 = x139*x223;
x225 = x139*x199 - 0.384*x222 - 0.384*x224;
x226 = x139*x204 + x144*x205;
x227 = -x226;
x228 = -0.0825*x222 - 0.0825*x224 + x227;
x229 = x225*x68 + x228*x75;
x230 = -0.0825*x161;
x231 = x139*x221;
x232 = x144*x199 + x212*x223 + x230 - 0.384*x231;
x233 = x144*x223 + x231;
x234 = x230*x68 - x232 - 0.0825*x233*x69;
x235 = x161*x75 + x233*x68;
x236 = x144*x221 + x152*x223;
x237 = -x236;
x238 = x225*x69 + x228*x68 - 0.0825*x236;
x239 = cos(q(6));
x240 = sin(q(6));
x241 = x146*x239 + x156*x240;
x242 = dq(6)*x241 + x143*x239 + x171*x240;
x243 = -x240;
x244 = x145*x239 + x146*x240;
x245 = dq(6) - x142;
x246 = x244*x245;
x247 = x239*x242 + x243*x246;
x248 = x241*x244;
x249 = -x248;
x250 = -x249;
x251 = x139*x247 + x144*x250;
x252 = x239*x246 + x240*x242;
x253 = x251*x68 + x252*x75;
x254 = x144*x247 + x152*x250;
x255 = -x254;
x256 = x251*x69 + x252*x68;
x257 = -x246;
x258 = -x244;
x259 = dq(6)*x258 - x143*x240 + x171*x239;
x260 = x257 + x259;
x261 = x241*x245;
x262 = x242 + x261;
x263 = x239*x260 + x243*x262;
x264 = ((x241)*(x241));
x265 = -x264;
x266 = ((x244)*(x244));
x267 = x265 + x266;
x268 = -x267;
x269 = x139*x263 + x144*x268;
x270 = x239*x262 + x240*x260;
x271 = x269*x68 + x270*x75;
x272 = x144*x263 + x152*x268;
x273 = -x272;
x274 = x269*x69 + x270*x68;
x275 = ddq(6) + x209;
x276 = x248 + x275;
x277 = x239*x276;
x278 = ((x245)*(x245));
x279 = -x266;
x280 = x278 + x279;
x281 = x243*x280 + x277;
x282 = x242 - x261;
x283 = -x282;
x284 = x139*x281 + x144*x283;
x285 = x239*x280 + x240*x276;
x286 = x284*x68 + x285*x75;
x287 = x144*x281 + x152*x283;
x288 = -x287;
x289 = x284*x69 + x285*x68;
x290 = -x278;
x291 = x264 + x290;
x292 = x249 + x275;
x293 = x239*x291 + x243*x292;
x294 = x246 + x259;
x295 = -x294;
x296 = x139*x293 + x144*x295;
x297 = x239*x292 + x240*x291;
x298 = x296*x68 + x297*x75;
x299 = x144*x293 + x152*x295;
x300 = -x299;
x301 = x296*x69 + x297*x68;
x302 = x239*x261 + x243*x257;
x303 = -x275;
x304 = x139*x302 + x144*x303;
x305 = x239*x257 + x240*x261;
x306 = x304*x68 + x305*x75;
x307 = x144*x302 + x152*x303;
x308 = -x307;
x309 = x304*x69 + x305*x68;
x310 = -x206;
x311 = -x310;
x312 = x243*x311;
x313 = x199*x239 + x227*x240;
x314 = -x313;
x315 = x265 + x290;
x316 = x239*x315 + x243*x276;
x317 = x140*x316;
x318 = -x259;
x319 = x246 + x318;
x320 = -x319;
x321 = x139*x320;
x322 = x139*x312 + x144*x314 - 0.384*x317 - 0.384*x321;
x323 = x239*x311;
x324 = -0.0825*x317 - 0.0825*x321 + x323;
x325 = x322*x68 + x324*x75;
x326 = x240*x315 + x277;
x327 = -0.0825*x326;
x328 = x139*x316;
x329 = x144*x312 + x152*x314 + x212*x320 + x327 - 0.384*x328;
x330 = x144*x320 + x328;
x331 = x327*x68 - x329 - 0.0825*x330*x69;
x332 = x326*x75 + x330*x68;
x333 = x144*x316 + x152*x320;
x334 = -x333;
x335 = x322*x69 + x324*x68 - 0.0825*x333;
x336 = x239*x310;
x337 = x199*x240 + x226*x239;
x338 = -x337;
x339 = -x338;
x340 = x248 + x303;
x341 = x279 + x290;
x342 = x239*x340 + x243*x341;
x343 = x140*x342;
x344 = -x262;
x345 = x139*x344;
x346 = x139*x336 + x144*x339 - 0.384*x343 - 0.384*x345;
x347 = x240*x310;
x348 = -0.0825*x343 - 0.0825*x345 + x347;
x349 = x346*x68 + x348*x75;
x350 = x239*x341 + x240*x340;
x351 = -0.0825*x350;
x352 = x139*x342;
x353 = x144*x336 + x152*x339 + x212*x344 + x351 - 0.384*x352;
x354 = x144*x344 + x352;
x355 = x351*x68 - x353 - 0.0825*x354*x69;
x356 = x350*x75 + x354*x68;
x357 = x144*x342 + x152*x344;
x358 = -x357;
x359 = x346*x69 + x348*x68 - 0.0825*x357;
x360 = cos(q(7));
x361 = sin(q(7));
x362 = x245*x360 + x258*x361;
x363 = dq(7)*x362 + x242*x360 + x275*x361;
x364 = -x361;
x365 = x244*x360 + x245*x361;
x366 = dq(7) - x241;
x367 = x365*x366;
x368 = x360*x363 + x364*x367;
x369 = x362*x365;
x370 = -x369;
x371 = -x370;
x372 = x239*x368 + x243*x371;
x373 = x360*x367 + x361*x363;
x374 = -x373;
x375 = x139*x372 + x144*x374;
x376 = x239*x371 + x240*x368;
x377 = x375*x68 + x376*x75;
x378 = x144*x372 + x152*x374;
x379 = -x378;
x380 = x375*x69 + x376*x68;
x381 = -x367;
x382 = -dq(7)*x365 - x242*x361 + x275*x360;
x383 = x381 + x382;
x384 = x362*x366;
x385 = x363 + x384;
x386 = x360*x383 + x364*x385;
x387 = ((x362)*(x362));
x388 = -x387;
x389 = ((x365)*(x365));
x390 = x388 + x389;
x391 = -x390;
x392 = x239*x386 + x243*x391;
x393 = x360*x385 + x361*x383;
x394 = -x393;
x395 = x139*x392 + x144*x394;
x396 = x239*x391 + x240*x386;
x397 = x395*x68 + x396*x75;
x398 = x144*x392 + x152*x394;
x399 = -x398;
x400 = x395*x69 + x396*x68;
x401 = ddq(7) + x318;
x402 = x369 + x401;
x403 = x360*x402;
x404 = ((x366)*(x366));
x405 = -x389;
x406 = x404 + x405;
x407 = x364*x406 + x403;
x408 = x363 - x384;
x409 = -x408;
x410 = x239*x407 + x243*x409;
x411 = x361*x402;
x412 = x360*x406 + x411;
x413 = -x412;
x414 = x139*x410 + x144*x413;
x415 = x239*x409 + x240*x407;
x416 = x414*x68 + x415*x75;
x417 = x144*x410 + x152*x413;
x418 = -x417;
x419 = x414*x69 + x415*x68;
x420 = -x404;
x421 = x387 + x420;
x422 = x370 + x401;
x423 = x360*x421 + x364*x422;
x424 = x367 + x382;
x425 = -x424;
x426 = x239*x423 + x243*x425;
x427 = x360*x422 + x361*x421;
x428 = -x427;
x429 = x139*x426 + x144*x428;
x430 = x239*x425 + x240*x423;
x431 = x429*x68 + x430*x75;
x432 = x144*x426 + x152*x428;
x433 = -x432;
x434 = x429*x69 + x430*x68;
x435 = x360*x384 + x364*x381;
x436 = -x401;
x437 = x239*x435 + x243*x436;
x438 = x360*x381 + x361*x384;
x439 = -x438;
x440 = x139*x437 + x144*x439;
x441 = x239*x436 + x240*x435;
x442 = x440*x68 + x441*x75;
x443 = x144*x437 + x152*x439;
x444 = -x443;
x445 = x440*x69 + x441*x68;
x446 = -0.088*x276 + x314 + 0.107*x341;
x447 = -x446;
x448 = x388 + x420;
x449 = x361*x448;
x450 = x364*x447 - 0.107*x403 - 0.107*x449;
x451 = -0.107*x262 + x310 + 0.088*x319;
x452 = 0.088*x315 + x337 - 0.107*x340;
x453 = x360*x451 + x364*x452;
x454 = -0.088*x403 - 0.088*x449 - x453;
x455 = x239*x450 + x243*x454;
x456 = x367 - x382;
x457 = x360*x448;
x458 = x360*x447 - 0.107*x411 - 0.088*x456 + 0.107*x457;
x459 = -x458;
x460 = x364*x402 + x457;
x461 = -x456;
x462 = x239*x460 + x243*x461;
x463 = x140*x462;
x464 = -x403 - x449;
x465 = x139*x464;
x466 = x139*x455 + x144*x459 - 0.384*x463 - 0.384*x465;
x467 = x239*x454 + x240*x450;
x468 = -0.0825*x463 - 0.0825*x465 + x467;
x469 = x466*x68 + x468*x75;
x470 = x239*x461 + x240*x460;
x471 = -0.0825*x470;
x472 = x139*x462;
x473 = x144*x455 + x152*x459 + x212*x464 + x471 - 0.384*x472;
x474 = x144*x464 + x472;
x475 = x471*x68 - x473 - 0.0825*x474*x69;
x476 = x470*x75 + x474*x68;
x477 = x144*x462 + x152*x464;
x478 = -x477;
x479 = x466*x69 + x468*x68 - 0.0825*x477;
x480 = x369 + x436;
x481 = x361*x480;
x482 = x405 + x420;
x483 = x360*x482;
x484 = x360*x446 - 0.107*x481 - 0.107*x483;
x485 = -x360*x452 - x361*x451;
x486 = -0.088*x481 - 0.088*x483 - x485;
x487 = x239*x484 + x243*x486;
x488 = x360*x480;
x489 = x361*x446 - 0.107*x361*x482 - 0.088*x385 + 0.107*x488;
x490 = -x489;
x491 = x364*x482 + x488;
x492 = -x385;
x493 = x239*x491 + x243*x492;
x494 = x140*x493;
x495 = -x481 - x483;
x496 = x139*x495;
x497 = x139*x487 + x144*x490 - 0.384*x494 - 0.384*x496;
x498 = x239*x486 + x240*x484;
x499 = -0.0825*x494 - 0.0825*x496 + x498;
x500 = x497*x68 + x499*x75;
x501 = x239*x492 + x240*x491;
x502 = -0.0825*x501;
x503 = x139*x493;
x504 = x144*x487 + x152*x490 + x212*x495 + x502 - 0.384*x503;
x505 = x144*x495 + x503;
x506 = x502*x68 - x504 - 0.0825*x505*x69;
x507 = x501*x75 + x505*x68;
x508 = x144*x493 + x152*x495;
x509 = -x508;
x510 = x497*x69 + x499*x68 - 0.0825*x508;
x511 = x24*x44;



Hb=zeros(7,43);
Hb(1,1:6)= [ddq(1);
x0*x7 + x11;
x13*(x10 + x12) + x14*x15;
x13*(ddq(2) + x16) + x14*(x17 + x19);
x13*(x20 + x21) + x14*(ddq(2) + x22);
-x11 + x13*x5];


Hb(1,9:43)= [x13*(x23*x27 + x25*x30) - x14*x32;
x13*(x23*x36 + x25*x38) - x14*x42;
x13*(x25*x48 + x45) - x14*x49;
x13*(x23*x51 + x25*x52) - x14*x53;
x13*(x23*x37 + x25*x33) + x14*x54;
x13*(-0.316*x24*x63 + x25*x62 - 0.316*x45) + x14*x59;
x13*(x23*x61 - 0.316*x23*x65 - 0.316*x24*x64) - x14*x67;
x13*(x23*x76 + x25*x79) - x14*x80;
x13*(x23*x87 + x25*x92) - x14*x93;
-x103*x14 + x13*(x100*x23 + x102*x25);
-x110*x14 + x13*(x107*x23 + x109*x25);
-x113*x14 + x13*(x111*x23 + x112*x25);
-x129*x14 + x13*(x116*x23 + x123*x25 + x124*x125 - 0.316*x127*x23);
x13*(x124*x136 + x130*x23 + x135*x25 - 0.316*x137*x23) - x138*x14;
x13*(x151*x23 + x154*x25) - x14*x155;
x13*(x167*x23 + x169*x25) - x14*x170;
x13*(x179*x23 + x182*x25) - x14*x183;
x13*(x189*x23 + x191*x25) - x14*x192;
x13*(x195*x23 + x197*x25) - x14*x198;
x13*(x124*x217 + x208*x23 + x216*x25 - 0.316*x219*x23) - x14*x220;
x13*(x124*x235 + x229*x23 - 0.316*x23*x237 + x234*x25) - x14*x238;
x13*(x23*x253 + x25*x255) - x14*x256;
x13*(x23*x271 + x25*x273) - x14*x274;
x13*(x23*x286 + x25*x288) - x14*x289;
x13*(x23*x298 + x25*x300) - x14*x301;
x13*(x23*x306 + x25*x308) - x14*x309;
x13*(x124*x332 + x23*x325 - 0.316*x23*x334 + x25*x331) - x14*x335;
x13*(x124*x356 + x23*x349 - 0.316*x23*x358 + x25*x355) - x14*x359;
x13*(x23*x377 + x25*x379) - x14*x380;
x13*(x23*x397 + x25*x399) - x14*x400;
x13*(x23*x416 + x25*x418) - x14*x419;
x13*(x23*x431 + x25*x433) - x14*x434;
x13*(x23*x442 + x25*x444) - x14*x445;
x13*(x124*x476 + x23*x469 - 0.316*x23*x478 + x25*x475) - x14*x479;
x13*(x124*x507 + x23*x500 - 0.316*x23*x509 + x25*x506) - x14*x510];

Hb(2,2:43)= [x22;
x18 - x21;
-x5 + x6;
x12 + x9;
ddq(2);
x60;
-x55;
x23*x30 + x24*x27;
x23*x38 + x24*x36;
x23*x48 + x511;
x23*x52 + x24*x51;
x23*x33 + x24*x37;
x23*x62 + 0.316*x23*x63 - 0.316*x511;
x124*x65 + 0.316*x23*x64 + x24*x61;
x23*x79 + x24*x76;
x23*x92 + x24*x87;
x100*x24 + x102*x23;
x107*x24 + x109*x23;
x111*x24 + x112*x23;
x116*x24 + x123*x23 + x124*x127 + 0.316*x125*x23;
x124*x137 + x130*x24 + x135*x23 + 0.316*x136*x23;
x151*x24 + x154*x23;
x167*x24 + x169*x23;
x179*x24 + x182*x23;
x189*x24 + x191*x23;
x195*x24 + x197*x23;
x124*x219 + x208*x24 + x216*x23 + 0.316*x217*x23;
x124*x237 + x229*x24 + x23*x234 + 0.316*x23*x235;
x23*x255 + x24*x253;
x23*x273 + x24*x271;
x23*x288 + x24*x286;
x23*x300 + x24*x298;
x23*x308 + x24*x306;
x124*x334 + x23*x331 + 0.316*x23*x332 + x24*x325;
x124*x358 + x23*x355 + 0.316*x23*x356 + x24*x349;
x23*x379 + x24*x377;
x23*x399 + x24*x397;
x23*x418 + x24*x416;
x23*x433 + x24*x431;
x23*x444 + x24*x442;
x124*x478 + x23*x475 + 0.316*x23*x476 + x24*x469;
x124*x509 + x23*x506 + 0.316*x23*x507 + x24*x500];


Hb(3,9:43)= [x32;x42;x49;x53;x43;x58;x67;x80;x93;x103;x110;x113;x129;x138;x155;x170;x183;x192;x198;x220;x238;x256;x274;x289;x301;x309;x335;x359;x380;x400;x419;x434;x445;x479;x510];

Hb(4,16:43) = [x78;x91;x101;x108;x95;x119;x132;x153;x168;x181;x190;x196;x214;x232;x254;x272;x287;x299;x307;x329;x353;x378;x398;x417;x432;x443;x473;x504];

Hb(5,23:43)= [x150;x166;x178;x188;x171;x206;x227;x252;x270;x285;x297;x305;x323;x347;x376;x396;x415;x430;x441;x467;x498];

Hb(6,30:43)= [x249;x267;x282;x294;x275;x313;x338;x373;x393;x412;x427;x438;x458;x489];

Hb(7,37:43)= [x370;x390;x408;x424;x401;x453;x485];

Phi=Hb(:,1:43)';




























